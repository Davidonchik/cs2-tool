@echo off
chcp 65001 >nul
title CS2 –ù–∞—Ç–∏–≤–Ω—ã–π –°–∫–∞–Ω–µ—Ä

echo.
echo ========================================
echo    CS2 –ù–∞—Ç–∏–≤–Ω—ã–π –°–∫–∞–Ω–µ—Ä –°–µ—Ä–≤–µ—Ä–æ–≤
echo ========================================
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ Python
python --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Python –Ω–µ –Ω–∞–π–¥–µ–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.8+ —Å https://python.org
    echo.
    pause
    exit /b 1
)

echo ‚úÖ Python –Ω–∞–π–¥–µ–Ω
echo.

REM –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ pip
pip --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå pip –Ω–µ –Ω–∞–π–¥–µ–Ω! –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python
    echo.
    pause
    exit /b 1
)

echo ‚úÖ pip –Ω–∞–π–¥–µ–Ω
echo.

REM –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π...
pip install -r requirements_scanner.txt

if errorlevel 1 (
    echo ‚ùå –û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    echo.
    pause
    exit /b 1
)

echo ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
echo.

echo.
echo üöÄ –ó–∞–ø—É—Å–∫ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ —Å–∫–∞–Ω–µ—Ä–∞...
echo üì° WebSocket —Å–µ—Ä–≤–µ—Ä: ws://localhost:8765
echo üîÑ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
echo.
echo üí° –¢–µ–ø–µ—Ä—å –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ http://localhost:8000
echo üí° API –∫–ª—é—á –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞–Ω –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
echo.
echo ‚ö†Ô∏è  –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
echo.

REM –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫–∞–Ω–µ—Ä
python scanner.py --port 8765 --workers 50

echo.
echo üõë –°–∫–∞–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
pause 